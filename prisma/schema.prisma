  // This is your Prisma schema file,
  // learn more about it in the docs: https://pris.ly/d/prisma-schema

  // Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
  // Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

  generator client {
    provider = "prisma-client-js"
    // output   = "../generated/prisma"
  }

  datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
  }

  //==============================(Tugas Bu Amalia)======================================//

  enum Category {
    Makanan
  }

  enum userRole {
    ADMIN
    USER
  }

  model User {
    id             Int                 @id @default(autoincrement())
    name           String
    email          String              @unique
    password       String 
    role           userRole            @default(USER)
    createAt       DateTime            @default(now())
    updateAt       DateTime            @updatedAt
    user_transaksi transaksi[]
  }

  model transaksi {
    id_transaksi    Int              @id @default(autoincrement())
    tanggal         Int
    no_invoice      String
    id_pelanggan    Int
    total           Decimal
    status_bayar    String
    metode_bayar    String
    User            User?             @relation(fields: [userId], references: [id])
    userId          Int?
    detailTransaksi detailTransaksi?  @relation(fields: [detailTransaksiId], references: [id])
  detailTransaksiId Int?
  }

  model detailTransaksi {
    id             Int                  @id @default(autoincrement())
    kuantitas      Int
    subtotal       Int
    createdAt      DateTime             @default(now())
    updateAt       DateTime             @updatedAt
    menu           menu?                @relation(fields: [menuId], references: [id])
    menuId         Int?
    user_transaksi transaksi[]
  }

  model menu {
    id              Int                 @id @default(autoincrement())
    name            String
    price           Int
    category        Category            @default(Makanan)
    description     String
    createdAt       DateTime            @default(now())
    updateAt        DateTime            @updatedAt
    Detailtransaksi detailTransaksi[]
  }

  // enum Category {
  //   makanan
  // }

  // model user {
  //   id             Int         @id @default(autoincrement())
  //   name           String
  //   email          String      @unique
  //   password       String
  //   createAt       DateTime    @default(now())
  //   upDate         DateTime    @updatedAt
  //   user_transaksi transaksi []
  //   // profile profile[]
  // }

  // model menu {
  //   id       Int      @id @default(autoincrement())
  //   name     String
  //   price    Int
  //   category Category @default(makanan)
  //   createAt DateTime @default(now())
  //   upDate   DateTime @updatedAt
  // }

  // model transaksi {
  //   id           Int     @id @default(autoincrement())
  //   tanggal      Int
  //   no_invoice   String
  //   id_pelanggan Int
  //   total        Decimal
  //   Status_bayar String
  //   Metode_bayar String
  //   user_detailTransaksi detailTransaksi []
  // }

  // model detailTransaksi {
  //   id           Int     @id @default(autoincrement())
  //   id_transaksi Int
  //   Id_produk    Int
  //   Nama_produk  String
  //   jumblah      Int
  //   Harga_satuan Decimal
  //   Subtotal     Decimal
  //   user_menu menu []
  //   user_transaksi transaksi []

  // }

  // //==============================(Tugas Bu Amalia)======================================//

  // model profile {
  //   id         Int @id @default(autoincrement())
  //   bio        String?
  //   userId     Int
  //   user       user @relation(fields: [id], references: [id])
  // }
